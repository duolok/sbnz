package rules.enemy;

import com.ftn.sbnz.model.models.*;

rule "Adjust for Low Level Player - Modify"
    agenda-group "player-level-adjustment"
    salience 85
    no-loop true
    when
        $context : GameContext($player : player)
        Player(this == $player, level <= 10)
        $enemy : Enemy($hp : hp, $dmg : damage) from enemyCandidates
    then
        modify($enemy) {
            setHp($hp * 0.7),
            setDamage($dmg * 0.8)
        }
        System.out.println("Adjusted " + $enemy.getName() + " for low level player");
end

rule "Adjust for Mid Level Player - Modify"
    agenda-group "player-level-adjustment"
    salience 85
    no-loop true
    when
        $context : GameContext($player : player)
        Player(this == $player, level > 10, level <= 30)
        $enemy : Enemy($hp : hp, $dmg : damage) from enemyCandidates
    then
        modify($enemy) {
            setHp($hp * 1.0),
            setDamage($dmg * 1.0)
        }
        System.out.println("No adjustment needed for mid-level player");
end

rule "Adjust for High Level Player - Modify"
    agenda-group "player-level-adjustment"
    salience 85
    no-loop true
    when
        $context : GameContext($player : player)
        Player(this == $player, level > 30, level <= 60)
        $enemy : Enemy($hp : hp, $dmg : damage) from enemyCandidates
    then
        modify($enemy) {
            setHp($hp * 1.5),
            setDamage($dmg * 1.3)
        }
        System.out.println("Adjusted " + $enemy.getName() + " for high level player");
end

rule "Adjust for Very High Level Player - Modify"
    agenda-group "player-level-adjustment"
    salience 85
    no-loop true
    when
        $context : GameContext($player : player)
        Player(this == $player, level > 60)
        $enemy : Enemy($hp : hp, $dmg : damage, $def : defense) from enemyCandidates
    then
        modify($enemy) {
            setHp($hp * 2.5),
            setDamage($dmg * 2.0),
            setDefense($def * 1.5)
        }
        System.out.println("Adjusted " + $enemy.getName() + " for very high level player");
end